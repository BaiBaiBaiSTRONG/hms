<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>个人资料</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="shortcut icon" href="favicon.ico">
		<link href="../../css/bootstrap.min.css?v=3.3.5" rel="stylesheet">
		<link href="../../css/font-awesome.min.css?v=4.4.0" rel="stylesheet">
		<link href="../../css/animate.min.css" rel="stylesheet">
		<link href="../../css/style.min.css?v=4.0.0" rel="stylesheet">
		<link href="../../css/plugins/toastr/toastr.min.css" rel="stylesheet">

	</head>
	<body class="gray-bg">
		<div class="wrapper wrapper-content animated fadeInRight">
			<div class="row">
				<div class="col-sm-12">
					<div class="ibox float-e-margins">
						<div class="ibox-title">
							<h5>个人资料修改</h5>
							<div class="ibox-tools">
								<a class="collapse-link">
									<i class="fa fa-chevron-up"></i>
								</a>
							</div>
						</div>
					</div>

					<div class="ibox-content">
						<form class="form-horizontal m-t" id="personinfo">
							<div class="form-group">
								<label class="col-sm-3 control-label">名字：</label>
								<div class="col-sm-8">
									<input id="lastname" name="lastname" class="form-control" type="text"
										aria-required="true" aria-invalid="false" class="valid">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label">用户名：</label>
								<div class="col-sm-8">
									<input id="username" name="username" class="form-control" type="text"
										aria-required="true" aria-invalid="true" class="error">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label">密码：</label>
								<div class="col-sm-8">
									<input id="password" name="password" class="form-control" type="password">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label">确认密码：</label>
								<div class="col-sm-8">
									<input id="confirm_password" name="confirm_password" class="form-control"
										type="password">
									<span class="help-block m-b-none"><i class="fa fa-info-circle"></i>
										请再次输入您的密码</span>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label">E-mail：</label>
								<div class="col-sm-8">
									<input id="email" name="email" class="form-control" type="email">
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-8 col-sm-offset-3">
									<button class="btn btn-primary" type="button" id="btsubmit">提交</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<script src="../../js/jquery.min.js?v=2.1.4"></script>
		<script src="../../js/bootstrap.min.js?v=3.3.5"></script>
		<script src="../../js/content.min.js?v=1.0.0"></script>
		<script src="../../js/plugins/validate/jquery.validate.min.js"></script>
		<script src="../../js/plugins/validate/messages_zh.min.js"></script>
		<script src="../../js/content.min.js?v=1.0.0"></script>
		<script src="../../js/plugins/toastr/toastr.min.js"></script>

		<script src="../../js/urlutil.js"></script>
		<script>
			$.validator.setDefaults({
				highlight: function(e) {
					$(e).closest(".form-group").removeClass("has-success").addClass("has-error")
				},
				success: function(e) {
					e.closest(".form-group").removeClass("has-error").addClass("has-success")
				},
				errorElement: "span",
				errorPlacement: function(e, r) {
					e.appendTo(r.is(":radio") || r.is(":checkbox") ? r.parent().parent().parent() : r.parent())
				},
				errorClass: "help-block m-b-none",
				validClass: "help-block m-b-none"
			});
			$(() => {
				var queryVal= getQueryValue('name');
				console.info(queryVal);
				
				var e = "<i class='fa fa-times-circle'></i> ";
				
				$("#personinfo").validate({
					rules: {
						lastname: {
							required: !0,
							maxlength: 8
						}
					},
					messages: {
						lastname: {
							required: e + "请输入您的名字",
							maxlength: e + "请输入8个汉字以内的名字"
						}
					}
				});
				
				$("#btsubmit").click(() => {
					var res = $("#personinfo").valid();
					console.log(res);
					
					//toastr.success("Without any options", "Simple notification!");
					toastr.error("Without any options", "Simple notification!");
				});
			});
		</script>
	</body>
</html>
