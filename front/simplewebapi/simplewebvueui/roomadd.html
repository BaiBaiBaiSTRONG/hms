<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>增加房间</title>
	</head>
	<body>
		<div id="app">
			<h3>增加房间</h3>
			<table border="1">
				<tr>
					<th>房间号</th>
					<th style="width: 6.25rem;">房间名</th>
					<th style="width: 6.25rem;">大楼号</th>
					<th style="width: 6.25rem;">产权人号码</th>
					<th style="width: 6.25rem;">面积</th>
					<th style="width: 6.25rem;">tenement</th>
					<th style="width: 6.25rem;">status</th>
				</tr>
				<tr>
					<td><input type="text" v-model="roomid" /></td>
					<td><input type="text" v-model="roomname" /></td>
					<td><input type="text" v-model="buildingid" /></textarea></td>
					<td><input type="text" v-model="ownerid" /></textarea></td>
					<td><input type="text" v-model="area" /></textarea></td>
					<td><input type="text" v-model="tenement" /></textarea></td>
					<td><input type="text" v-model="status" /></textarea></td>
				</tr>
				<button @click="insert()">增加</button>
			</table>
		</div>
		<script src="js/vue.js"></script>
		<script src="js/axios.js"></script>
		<script type="text/javascript">
			var vue = new Vue({
				el: "#app",
				data: {
					roomid: "",
					roomname: "",
					buildingid: "",
					ownerid: "",
					area: "",
					tenement: "",
					status: "",
				},
				methods: {
					insert: function() {
						let param = new URLSearchParams();
							param.append('roomid', this.roomid),
							param.append('roomname', this.roomname),
							param.append('buildingid', this.buildingid),
							param.append('ownerid', this.ownerid),
							param.append('area', this.area),
							param.append('tenement', this.tenement),
							param.append('status', this.status),
							console.log(this.roomname);
						axios({
							headers: {
								'content-type': 'application/x-www-form-urlencoded'
							},
							method: "post",
							url: "http://localhost:8888/simpleweb/roominsertapi",
							data: param
							/* {
								roomid: "roomid=" + this.roomid,
								roomname: "roomname=" + this.roomname,
								buildingid: "buildingid=" + this.buildingid,
								ownerid: "ownerid=" + this.ownerid,
								area: "area=" + this.area,
								tenement: "tenement=" + this.tenement,
								status: "status=" + this.status
							} */
						}).then((res) => {
							console.log(res.data);
							if (res.data.res) {

							} else {

							}
						}).catch((error) => {
							console.log(error);
						});
					}
				}
			})
		</script>
	</body>
</html>
